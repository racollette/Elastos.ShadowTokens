{"ast":null,"code":"import { toPayload } from '../jsonrpc';\nexport default (async ({\n  payload,\n  store\n}, res, next) => {\n  if (payload.method !== 'eth_accounts') return next();\n\n  if (store.state.wallet) {\n    res(null, toPayload(payload.id, [store.state.wallet.getAddressString()]));\n  } else {\n    try {\n      store.state.enable().then(accounts => {\n        res(null, toPayload(payload.id, accounts));\n      });\n    } catch (e) {\n      res(null, toPayload(payload.id, []));\n    }\n  }\n});","map":{"version":3,"sources":["/home/ryan/dev/defi/bridge/node_modules/@myetherwallet/mewconnect-web-client/src/connectProvider/web3Provider/web3-provider/methods/eth_accounts.js"],"names":["toPayload","payload","store","res","next","method","state","wallet","id","getAddressString","enable","then","accounts","e"],"mappings":"AAAA,SAASA,SAAT,QAA0B,YAA1B;AAEA,gBAAe,OAAO;AAAEC,EAAAA,OAAF;AAAWC,EAAAA;AAAX,CAAP,EAA2BC,GAA3B,EAAgCC,IAAhC,KAAyC;AACtD,MAAIH,OAAO,CAACI,MAAR,KAAmB,cAAvB,EAAuC,OAAOD,IAAI,EAAX;;AACvC,MAAGF,KAAK,CAACI,KAAN,CAAYC,MAAf,EAAsB;AACpBJ,IAAAA,GAAG,CAAC,IAAD,EAAOH,SAAS,CAACC,OAAO,CAACO,EAAT,EAAa,CAACN,KAAK,CAACI,KAAN,CAAYC,MAAZ,CAAmBE,gBAAnB,EAAD,CAAb,CAAhB,CAAH;AACD,GAFD,MAEO;AACL,QAAI;AACFP,MAAAA,KAAK,CAACI,KAAN,CAAYI,MAAZ,GAAqBC,IAArB,CAA0BC,QAAQ,IAAG;AACnCT,QAAAA,GAAG,CAAC,IAAD,EAAOH,SAAS,CAACC,OAAO,CAACO,EAAT,EAAaI,QAAb,CAAhB,CAAH;AACD,OAFD;AAGD,KAJD,CAIE,OAAOC,CAAP,EAAU;AACVV,MAAAA,GAAG,CAAC,IAAD,EAAOH,SAAS,CAACC,OAAO,CAACO,EAAT,EAAa,EAAb,CAAhB,CAAH;AACD;AACF;AAEF,CAdD","sourcesContent":["import { toPayload } from '../jsonrpc';\n\nexport default async ({ payload, store }, res, next) => {\n  if (payload.method !== 'eth_accounts') return next();\n  if(store.state.wallet){\n    res(null, toPayload(payload.id, [store.state.wallet.getAddressString()]));\n  } else {\n    try {\n      store.state.enable().then(accounts =>{\n        res(null, toPayload(payload.id, accounts));\n      })\n    } catch (e) {\n      res(null, toPayload(payload.id, []));\n    }\n  }\n\n};\n"]},"metadata":{},"sourceType":"module"}