{"ast":null,"code":"// Copyright (c) 2017 Pieter Wuille\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nvar CHARSET = 'qpzry9x8gf2tvdw0s3jn54khce6mua7l';\nvar GENERATOR = [0x3b6a57b2, 0x26508e6d, 0x1ea119fa, 0x3d4233dd, 0x2a1462b3];\nmodule.exports = {\n  decode: decode,\n  encode: encode\n};\n\nfunction polymod(values) {\n  var chk = 1;\n\n  for (var p = 0; p < values.length; ++p) {\n    var top = chk >> 25;\n    chk = (chk & 0x1ffffff) << 5 ^ values[p];\n\n    for (var i = 0; i < 5; ++i) {\n      if (top >> i & 1) {\n        chk ^= GENERATOR[i];\n      }\n    }\n  }\n\n  return chk;\n}\n\nfunction hrpExpand(hrp) {\n  var ret = [];\n  var p;\n\n  for (p = 0; p < hrp.length; ++p) {\n    ret.push(hrp.charCodeAt(p) >> 5);\n  }\n\n  ret.push(0);\n\n  for (p = 0; p < hrp.length; ++p) {\n    ret.push(hrp.charCodeAt(p) & 31);\n  }\n\n  return ret;\n}\n\nfunction verifyChecksum(hrp, data) {\n  return polymod(hrpExpand(hrp).concat(data)) === 1;\n}\n\nfunction createChecksum(hrp, data) {\n  var values = hrpExpand(hrp).concat(data).concat([0, 0, 0, 0, 0, 0]);\n  var mod = polymod(values) ^ 1;\n  var ret = [];\n\n  for (var p = 0; p < 6; ++p) {\n    ret.push(mod >> 5 * (5 - p) & 31);\n  }\n\n  return ret;\n}\n\nfunction encode(hrp, data) {\n  var combined = data.concat(createChecksum(hrp, data));\n  var ret = hrp + '1';\n\n  for (var p = 0; p < combined.length; ++p) {\n    ret += CHARSET.charAt(combined[p]);\n  }\n\n  return ret;\n}\n\nfunction decode(bechString) {\n  var p;\n  var has_lower = false;\n  var has_upper = false;\n\n  for (p = 0; p < bechString.length; ++p) {\n    if (bechString.charCodeAt(p) < 33 || bechString.charCodeAt(p) > 126) {\n      return null;\n    }\n\n    if (bechString.charCodeAt(p) >= 97 && bechString.charCodeAt(p) <= 122) {\n      has_lower = true;\n    }\n\n    if (bechString.charCodeAt(p) >= 65 && bechString.charCodeAt(p) <= 90) {\n      has_upper = true;\n    }\n  }\n\n  if (has_lower && has_upper) {\n    return null;\n  }\n\n  bechString = bechString.toLowerCase();\n  var pos = bechString.lastIndexOf('1');\n\n  if (pos < 1 || pos + 7 > bechString.length || bechString.length > 90) {\n    return null;\n  }\n\n  var hrp = bechString.substring(0, pos);\n  var data = [];\n\n  for (p = pos + 1; p < bechString.length; ++p) {\n    var d = CHARSET.indexOf(bechString.charAt(p));\n\n    if (d === -1) {\n      return null;\n    }\n\n    data.push(d);\n  }\n\n  if (!verifyChecksum(hrp, data)) {\n    return null;\n  }\n\n  return {\n    hrp: hrp,\n    data: data.slice(0, data.length - 6)\n  };\n}","map":{"version":3,"sources":["/home/ryan/dev/defi/shadowtoken/node_modules/wallet-address-validator/src/crypto/bech32.js"],"names":["CHARSET","GENERATOR","module","exports","decode","encode","polymod","values","chk","p","length","top","i","hrpExpand","hrp","ret","push","charCodeAt","verifyChecksum","data","concat","createChecksum","mod","combined","charAt","bechString","has_lower","has_upper","toLowerCase","pos","lastIndexOf","substring","d","indexOf","slice"],"mappings":"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","sourcesContent":["// Copyright (c) 2017 Pieter Wuille\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nvar CHARSET = 'qpzry9x8gf2tvdw0s3jn54khce6mua7l';\nvar GENERATOR = [0x3b6a57b2, 0x26508e6d, 0x1ea119fa, 0x3d4233dd, 0x2a1462b3];\n\nmodule.exports = {\n  decode: decode,\n  encode: encode,\n};\n\n\nfunction polymod (values) {\n  var chk = 1;\n  for (var p = 0; p < values.length; ++p) {\n    var top = chk >> 25;\n    chk = (chk & 0x1ffffff) << 5 ^ values[p];\n    for (var i = 0; i < 5; ++i) {\n      if ((top >> i) & 1) {\n        chk ^= GENERATOR[i];\n      }\n    }\n  }\n  return chk;\n}\n\nfunction hrpExpand (hrp) {\n  var ret = [];\n  var p;\n  for (p = 0; p < hrp.length; ++p) {\n    ret.push(hrp.charCodeAt(p) >> 5);\n  }\n  ret.push(0);\n  for (p = 0; p < hrp.length; ++p) {\n    ret.push(hrp.charCodeAt(p) & 31);\n  }\n  return ret;\n}\n\nfunction verifyChecksum (hrp, data) {\n  return polymod(hrpExpand(hrp).concat(data)) === 1;\n}\n\nfunction createChecksum (hrp, data) {\n  var values = hrpExpand(hrp).concat(data).concat([0, 0, 0, 0, 0, 0]);\n  var mod = polymod(values) ^ 1;\n  var ret = [];\n  for (var p = 0; p < 6; ++p) {\n    ret.push((mod >> 5 * (5 - p)) & 31);\n  }\n  return ret;\n}\n\nfunction encode (hrp, data) {\n  var combined = data.concat(createChecksum(hrp, data));\n  var ret = hrp + '1';\n  for (var p = 0; p < combined.length; ++p) {\n    ret += CHARSET.charAt(combined[p]);\n  }\n  return ret;\n}\n\nfunction decode (bechString) {\n  var p;\n  var has_lower = false;\n  var has_upper = false;\n  for (p = 0; p < bechString.length; ++p) {\n    if (bechString.charCodeAt(p) < 33 || bechString.charCodeAt(p) > 126) {\n      return null;\n    }\n    if (bechString.charCodeAt(p) >= 97 && bechString.charCodeAt(p) <= 122) {\n        has_lower = true;\n    }\n    if (bechString.charCodeAt(p) >= 65 && bechString.charCodeAt(p) <= 90) {\n        has_upper = true;\n    }\n  }\n  if (has_lower && has_upper) {\n    return null;\n  }\n  bechString = bechString.toLowerCase();\n  var pos = bechString.lastIndexOf('1');\n  if (pos < 1 || pos + 7 > bechString.length || bechString.length > 90) {\n    return null;\n  }\n  var hrp = bechString.substring(0, pos);\n  var data = [];\n  for (p = pos + 1; p < bechString.length; ++p) {\n    var d = CHARSET.indexOf(bechString.charAt(p));\n    if (d === -1) {\n      return null;\n    }\n    data.push(d);\n  }\n  if (!verifyChecksum(hrp, data)) {\n    return null;\n  }\n  return {hrp: hrp, data: data.slice(0, data.length - 6)};\n}\n"]},"metadata":{},"sourceType":"script"}