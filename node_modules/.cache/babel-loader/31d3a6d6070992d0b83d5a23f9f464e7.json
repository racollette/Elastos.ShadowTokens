{"ast":null,"code":"var _jsxFileName = \"/home/ryan/dev/defi/shadowtoken2/src/components/CurrencyInput.tsx\";\nimport React from \"react\";\nimport theme from \"../theme/theme\";\nimport { withStyles } from \"@material-ui/styles\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Menu from \"@material-ui/core/Menu\";\nimport { MINI_ICON_MAP } from \"../utils/walletUtils\";\n\nconst styles = () => ({\n  amountField: {\n    width: \"100%\"\n  },\n  endAdornment: {\n    \"& p\": {\n      color: \"#000\"\n    }\n  },\n  item: {\n    display: \"flex\",\n    fontSize: 14,\n    alignItems: \"center\",\n    minWidth: 55,\n    paddingLeft: theme.spacing(1),\n    \"& div\": {\n      display: \"flex\" // fontSize: 14\n\n    },\n    justifyContent: \"flex-end\"\n  },\n  select: {\n    display: \"flex\",\n    \"& div\": {\n      display: \"flex\" // fontSize: 14\n\n    },\n    \"& MuiInput-underline:before\": {\n      display: \"none\"\n    }\n  }\n});\n\nclass CurrencyInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.anchorEl = void 0;\n    this.state = {\n      currency: \"\",\n      open: false\n    };\n    this.state = {\n      currency: \"\",\n      open: false\n    };\n    this.anchorEl = React.createRef();\n  }\n\n  handleOpen() {\n    this.setState({\n      open: true\n    });\n  }\n\n  handleClose(event) {\n    // console.log(event, event.target, event.target.value)\n    const value = event.target.value;\n\n    if (value) {\n      this.props.onCurrencyChange(value);\n      this.setState({\n        currency: value\n      });\n    }\n\n    this.setState({\n      open: false\n    });\n  }\n\n  render() {\n    const {\n      classes,\n      onAmountChange\n    } = this.props;\n    const {\n      currency,\n      open\n    } = this.state;\n    const selected = currency;\n    return /*#__PURE__*/React.createElement(TextField, {\n      id: \"\",\n      className: classes.amountField,\n      placeholder: \"Convert Amount\",\n      margin: \"dense\",\n      onChange: event => {\n        if (onAmountChange) {\n          onAmountChange(Number(event.target.value));\n        }\n      },\n      type: \"number\",\n      InputProps: {\n        endAdornment: items && items.length && items.length > 1 ? /*#__PURE__*/React.createElement(InputAdornment, {\n          position: \"end\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(Menu, {\n          id: \"simple-menu\",\n          anchorEl: this.anchorEl.current,\n          keepMounted: true,\n          open: open,\n          onClose: this.handleClose.bind(this),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 17\n          }\n        }, items.map((i, index) => /*#__PURE__*/React.createElement(MenuItem, {\n          onClick: () => {\n            this.handleClose.bind(this)({\n              target: {\n                value: i\n              }\n            });\n          },\n          key: index,\n          value: i,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 21\n          }\n        })))) : /*#__PURE__*/React.createElement(InputAdornment, {\n          className: classes.endAdornment,\n          position: \"end\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: classes.item,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: MINI_ICON_MAP[items[0].toLowerCase()],\n          alt: items[0],\n          className: classes.icon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 23\n          }\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 21\n          }\n        }, items[0])))\n      },\n      inputProps: {\n        \"aria-label\": \"bare\",\n        disabled: this.props.disabled\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }\n    });\n  }\n\n}\n\nexport default withStyles(styles)(CurrencyInput);","map":{"version":3,"sources":["/home/ryan/dev/defi/shadowtoken2/src/components/CurrencyInput.tsx"],"names":["React","theme","withStyles","MenuItem","TextField","InputAdornment","Menu","MINI_ICON_MAP","styles","amountField","width","endAdornment","color","item","display","fontSize","alignItems","minWidth","paddingLeft","spacing","justifyContent","select","CurrencyInput","Component","constructor","props","anchorEl","state","currency","open","createRef","handleOpen","setState","handleClose","event","value","target","onCurrencyChange","render","classes","onAmountChange","selected","Number","items","length","current","bind","map","i","index","toLowerCase","icon","disabled"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport theme from \"../theme/theme\";\nimport { Styles, withStyles } from \"@material-ui/styles\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Button from \"@material-ui/core/Button\";\nimport Menu from \"@material-ui/core/Menu\";\n\nimport { MINI_ICON_MAP } from \"../utils/walletUtils\";\n\nconst styles: Styles<any, any> = () => ({\n  amountField: {\n    width: \"100%\",\n  },\n  endAdornment: {\n    \"& p\": {\n      color: \"#000\",\n    },\n  },\n  item: {\n    display: \"flex\",\n    fontSize: 14,\n    alignItems: \"center\",\n    minWidth: 55,\n    paddingLeft: theme.spacing(1),\n    \"& div\": {\n      display: \"flex\",\n      // fontSize: 14\n    },\n    justifyContent: \"flex-end\",\n  },\n  select: {\n    display: \"flex\",\n    \"& div\": {\n      display: \"flex\",\n      // fontSize: 14\n    },\n    \"& MuiInput-underline:before\": {\n      display: \"none\",\n    },\n  },\n});\n\ninterface Props {\n  onCurrencyChange: (newCurrency: string) => void;\n  onAmountChange: (newAmount: number) => void;\n  classes: { [key in string]: string };\n  disabled?: boolean;\n}\n\nclass CurrencyInput extends React.Component<Props> {\n  anchorEl: React.RefObject<any>;\n  state = {\n    currency: \"\",\n    open: false,\n  };\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      currency: \"\",\n      open: false,\n    };\n    this.anchorEl = React.createRef();\n  }\n\n  handleOpen() {\n    this.setState({\n      open: true,\n    });\n  }\n\n  handleClose(event: any) {\n    // console.log(event, event.target, event.target.value)\n    const value = event.target.value;\n    if (value) {\n      this.props.onCurrencyChange(value);\n      this.setState({ currency: value });\n    }\n    this.setState({ open: false });\n  }\n\n  render() {\n    const { classes, onAmountChange } = this.props;\n\n    const { currency, open } = this.state;\n\n    const selected = currency;\n\n    return (\n      <TextField\n        id=\"\"\n        className={classes.amountField}\n        placeholder=\"Convert Amount\"\n        margin=\"dense\"\n        onChange={(event) => {\n          if (onAmountChange) {\n            onAmountChange(Number(event.target.value));\n          }\n        }}\n        type=\"number\"\n        InputProps={{\n          endAdornment:\n            items && items.length && items.length > 1 ? (\n              <InputAdornment position=\"end\">\n                <Menu\n                  id=\"simple-menu\"\n                  anchorEl={this.anchorEl.current}\n                  keepMounted\n                  open={open}\n                  onClose={this.handleClose.bind(this)}\n                >\n                  {items.map((i, index) => (\n                    <MenuItem\n                      onClick={() => {\n                        this.handleClose.bind(this)({\n                          target: {\n                            value: i,\n                          },\n                        });\n                      }}\n                      key={index}\n                      value={i}\n                    ></MenuItem>\n                  ))}\n                </Menu>\n              </InputAdornment>\n            ) : (\n              <InputAdornment className={classes.endAdornment} position=\"end\">\n                {\n                  <div className={classes.item}>\n                    {\n                      <img\n                        src={MINI_ICON_MAP[items[0].toLowerCase()]}\n                        alt={items[0]}\n                        className={classes.icon}\n                      />\n                    }\n                    <span>{items[0]}</span>\n                  </div>\n                }\n              </InputAdornment>\n            ),\n        }}\n        inputProps={{\n          \"aria-label\": \"bare\",\n          disabled: this.props.disabled,\n        }}\n      />\n    );\n  }\n}\n\nexport default withStyles(styles)(CurrencyInput);\n"]},"metadata":{},"sourceType":"module"}