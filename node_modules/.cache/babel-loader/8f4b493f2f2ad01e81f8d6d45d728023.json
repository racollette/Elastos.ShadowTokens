{"ast":null,"code":"var _jsxFileName = \"/home/ryan/dev/defi/shadowtoken2/src/components/CurrencyInput.tsx\";\nimport React from \"react\";\nimport theme from \"../theme/theme\";\nimport { withStyles } from \"@material-ui/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Menu from \"@material-ui/core/Menu\";\n\nconst styles = () => ({\n  amountField: {\n    width: \"100%\"\n  },\n  endAdornment: {\n    \"& p\": {\n      color: \"#000\"\n    }\n  },\n  item: {\n    display: \"flex\",\n    fontSize: 14,\n    alignItems: \"center\",\n    minWidth: 55,\n    paddingLeft: theme.spacing(1),\n    \"& div\": {\n      display: \"flex\" // fontSize: 14\n\n    },\n    justifyContent: \"flex-end\"\n  },\n  select: {\n    display: \"flex\",\n    \"& div\": {\n      display: \"flex\" // fontSize: 14\n\n    },\n    \"& MuiInput-underline:before\": {\n      display: \"none\"\n    }\n  }\n});\n\nclass CurrencyInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.anchorEl = void 0;\n    this.state = {\n      currency: \"\",\n      open: false\n    };\n    this.state = {\n      currency: \"\",\n      open: false\n    };\n    this.anchorEl = React.createRef();\n  }\n\n  handleOpen() {\n    this.setState({\n      open: true\n    });\n  }\n\n  handleClose(event) {\n    // console.log(event, event.target, event.target.value)\n    const value = event.target.value;\n\n    if (value) {\n      this.props.onCurrencyChange(value);\n      this.setState({\n        currency: value\n      });\n    }\n\n    this.setState({\n      open: false\n    });\n  }\n\n  render() {\n    const {\n      classes,\n      onAmountChange,\n      bridgeDirection,\n      usdValue,\n      value\n    } = this.props;\n    const {\n      currency,\n      open\n    } = this.state;\n    const selected = currency;\n    const val = value ? String(value) : \"\";\n    const ref = this.ref;\n\n    const change = onChange || (() => {});\n\n    const chars = val.replace(\".\", \"\").replace(` ${symbol}`, \"\");\n    let size = \"large\";\n\n    if (chars.length > 5 && chars.length <= 7) {\n      size = \"medium\";\n    } else if (chars.length > 7 && chars.length <= 9) {\n      size = \"small\";\n    } else if (chars.length > 9) {\n      size = \"smallest\";\n    } // const bridgeDirection = \"Receive\";\n\n\n    return /*#__PURE__*/React.createElement(TextField, {\n      id: \"\",\n      className: classes.amountField,\n      placeholder: bridgeDirection,\n      margin: \"dense\",\n      onChange: event => {\n        if (onAmountChange) {\n          onAmountChange(Number(event.target.value));\n        }\n      },\n      type: \"number\",\n      InputProps: {\n        endAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n          position: \"end\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Menu, {\n          id: \"simple-menu\",\n          anchorEl: this.anchorEl.current,\n          keepMounted: true,\n          open: open,\n          onClose: this.handleClose.bind(this),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 15\n          }\n        }))\n      },\n      inputProps: {\n        \"aria-label\": \"bare\",\n        disabled: this.props.disabled\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 7\n      }\n    });\n  }\n\n}\n\nexport default withStyles(styles)(CurrencyInput);","map":{"version":3,"sources":["/home/ryan/dev/defi/shadowtoken2/src/components/CurrencyInput.tsx"],"names":["React","theme","withStyles","TextField","InputAdornment","Menu","styles","amountField","width","endAdornment","color","item","display","fontSize","alignItems","minWidth","paddingLeft","spacing","justifyContent","select","CurrencyInput","Component","constructor","props","anchorEl","state","currency","open","createRef","handleOpen","setState","handleClose","event","value","target","onCurrencyChange","render","classes","onAmountChange","bridgeDirection","usdValue","selected","val","String","ref","change","onChange","chars","replace","symbol","size","length","Number","current","bind","disabled"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport theme from \"../theme/theme\";\nimport { Styles, withStyles } from \"@material-ui/styles\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Button from \"@material-ui/core/Button\";\nimport Menu from \"@material-ui/core/Menu\";\n\nimport { MINI_ICON_MAP } from \"../utils/walletUtils\";\n\nconst styles: Styles<any, any> = () => ({\n  amountField: {\n    width: \"100%\",\n  },\n  endAdornment: {\n    \"& p\": {\n      color: \"#000\",\n    },\n  },\n  item: {\n    display: \"flex\",\n    fontSize: 14,\n    alignItems: \"center\",\n    minWidth: 55,\n    paddingLeft: theme.spacing(1),\n    \"& div\": {\n      display: \"flex\",\n      // fontSize: 14\n    },\n    justifyContent: \"flex-end\",\n  },\n  select: {\n    display: \"flex\",\n    \"& div\": {\n      display: \"flex\",\n      // fontSize: 14\n    },\n    \"& MuiInput-underline:before\": {\n      display: \"none\",\n    },\n  },\n});\n\ninterface Props {\n  onCurrencyChange: (newCurrency: string) => void;\n  onAmountChange: (newAmount: number) => void;\n  bridgeDirection: string;\n  classes: { [key in string]: string };\n  disabled?: boolean;\n}\n\nclass CurrencyInput extends React.Component<Props> {\n  anchorEl: React.RefObject<any>;\n  state = {\n    currency: \"\",\n    open: false,\n  };\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      currency: \"\",\n      open: false,\n    };\n    this.anchorEl = React.createRef();\n  }\n\n  handleOpen() {\n    this.setState({\n      open: true,\n    });\n  }\n\n  handleClose(event: any) {\n    // console.log(event, event.target, event.target.value)\n    const value = event.target.value;\n    if (value) {\n      this.props.onCurrencyChange(value);\n      this.setState({ currency: value });\n    }\n    this.setState({ open: false });\n  }\n\n  render() {\n    const {\n      classes,\n      onAmountChange,\n      bridgeDirection,\n      usdValue,\n      value,\n    } = this.props;\n\n    const { currency, open } = this.state;\n\n    const selected = currency;\n\n    const val = value ? String(value) : \"\";\n    const ref = this.ref;\n    const change = onChange || (() => {});\n\n    const chars = val.replace(\".\", \"\").replace(` ${symbol}`, \"\");\n\n    let size = \"large\";\n    if (chars.length > 5 && chars.length <= 7) {\n      size = \"medium\";\n    } else if (chars.length > 7 && chars.length <= 9) {\n      size = \"small\";\n    } else if (chars.length > 9) {\n      size = \"smallest\";\n    }\n\n    // const bridgeDirection = \"Receive\";\n\n    return (\n      <TextField\n        id=\"\"\n        className={classes.amountField}\n        placeholder={bridgeDirection}\n        margin=\"dense\"\n        onChange={(event) => {\n          if (onAmountChange) {\n            onAmountChange(Number(event.target.value));\n          }\n        }}\n        type=\"number\"\n        InputProps={{\n          endAdornment: (\n            <InputAdornment position=\"end\">\n              <Menu\n                id=\"simple-menu\"\n                anchorEl={this.anchorEl.current}\n                keepMounted\n                open={open}\n                onClose={this.handleClose.bind(this)}\n              ></Menu>\n            </InputAdornment>\n          ),\n        }}\n        inputProps={{\n          \"aria-label\": \"bare\",\n          disabled: this.props.disabled,\n        }}\n      />\n    );\n  }\n}\n\nexport default withStyles(styles)(CurrencyInput);\n"]},"metadata":{},"sourceType":"module"}